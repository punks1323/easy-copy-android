apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

kapt {
    generateStubs = true
}

android {

    def globalConfiguration = rootProject.extensions.getByName("ext")

    compileSdkVersion globalConfiguration.getAt("androidCompileSdkVersion")
    buildToolsVersion globalConfiguration.getAt("androidBuildToolsVersion")

    defaultConfig {
        applicationId globalConfiguration.getAt("androidApplicationId")
        minSdkVersion globalConfiguration.getAt("androidMinSdkVersion")
        targetSdkVersion globalConfiguration.getAt("androidTargetSdkVersion")

        versionCode globalConfiguration.getAt("androidVersionCode")
        versionName globalConfiguration.getAt("androidVersionName")
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }

    buildFeatures{
        dataBinding = true
        // for view binding :
        // viewBinding = true
    }

}

dependencies {
    implementation project(path: ':data')
    implementation project(path: ':use-case')
    def presentationDependencies = rootProject.ext.presentationDependencies


    implementation presentationDependencies.kotlinStdlib
    implementation presentationDependencies.kotlinCoreVersion
    kapt presentationDependencies.dataBindingCompiler

    implementation presentationDependencies.appcompat
    implementation presentationDependencies.constraintlayout
    implementation presentationDependencies.material
    implementation presentationDependencies.timber

    //Dependency Injection
    implementation presentationDependencies.dagger
    implementation presentationDependencies.daggerAndroidSupport
    kapt presentationDependencies.daggerCompiler
    kapt presentationDependencies.daggerAndroidProcessor

    //RxJava
    implementation presentationDependencies.rxJava
    implementation presentationDependencies.rxAndroid
    implementation presentationDependencies.retrofit2Rxjava2Adapter

    // view model
    implementation presentationDependencies.lifecycleExtensions
    implementation presentationDependencies.lifecycleCommonJava8

    implementation presentationDependencies.documentFile

    //lombok
    compileOnly presentationDependencies.lombok
    annotationProcessor presentationDependencies.lombok
}
